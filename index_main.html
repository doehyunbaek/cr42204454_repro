<!DOCTYPE html>
<html>
<head>
    <title>Bare uarm</title>
</head>
<body>
    <p id="time"></p>
    <button id="run">Run</button>
    <script src="run.js" type="module"></script>
    <script type="module">
        import { instantiate } from './run.js';
        let {wasmMemory, instance} = await instantiate('./out/manual_manual.wasm');

        const response = await fetch('./out/main.wasm');
        const buffer = await response.arrayBuffer();
        const imports = { index: instance.exports }
        let main_object = await WebAssembly.instantiate(buffer, imports);
        var start = performance.now();
        main_object.instance.exports["_start"]();
        var end = performance.now();
        var timeTaken = end - start;
        document.getElementById('time').innerHTML += "Time taken: " + timeTaken + "ms<br>";
    </script>
</body>
</html>